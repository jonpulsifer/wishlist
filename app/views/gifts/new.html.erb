<% provide(:title, "Wishlist!") %>

<div class="container">
  <%= render "navbar" %>

  <div class="row shadow-sm">
    <div class="col">
      <%= flash_messages %>
      <h3>Create a Gift</h2>
      <%= form_for(@gift) do |f| %>
      <div class="form-group row">
        <%= f.label :name, class: 'col-sm-3 col-form-label' %>
        <div class="col-sm-7">
          <%= f.text_field :name, class: 'form-control', style: 'text-transform: capitalize;' %>
        </div>
      </div>
      <div class="form-group row">
        <%= f.label :url, class: 'col-sm-3 col-form-label' %>
        <div class="col-sm-7">
            <%= f.text_field :url, class: 'form-control' %>
        </div>
      </div>
      <%= f.submit "Add Gift", class: 'btn btn-lg btn-primary btn-block' %>
      <%= f.hidden_field :wishlist_id, value: current_user.wishlist.id %>
      <% end %>
    </div>
    <div class="col">
    <h3>My gifts</h3>
      <div class="table-responsive-sm">
        <table id="wishlist" class="table table-hover">
          <thead class="thead-light">
            <tr>
              <th>Name</th>
              <th>URL</th>
              <th>Options</th>
            </tr>
          </thead>
          <tbody>
            <% @gifts.each do |gift| %>
            <tr>
              <td><%= gift.name %></td>
              <td><%= link_to gift.url, gift.url %></td>
              <td><%= button_to "delete", {controller: :gifts, action: 'destroy', id: gift.id }, method: :delete %></td>
            </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
